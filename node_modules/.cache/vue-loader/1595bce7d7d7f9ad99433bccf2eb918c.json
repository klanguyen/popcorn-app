{"remainingRequest":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/trinhnguyen/Desktop/popcorn-app-final/src/components/Movie.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/src/components/Movie.vue","mtime":1576457110315},{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb3ZpZUFwaSBmcm9tICdAL01vdmllQXBpJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiBbJ2lkJ10sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNpbmdsZU1vdmllOiAnJywKICAgICAgICAgICAgbW92aWVHZW5yZXM6IFtdLAogICAgICAgICAgICBnb3R0YVdhdGNoTW92aWVzOiBbXSwKICAgICAgICAgICAgd2F0Y2hlZE1vdmllczogW10sCiAgICAgICAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgICAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgICAgICAgIHJhdGluZ3M6ICcnCiAgICAgICAgfTsKICAgIH0sCgogICAgbW91bnRlZCgpIHsKICAgICAgICBtb3ZpZUFwaQogICAgICAgICAgICAuZmV0Y2hTaW5nbGVNb3ZpZSh0aGlzLmlkKQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnNpbmdsZU1vdmllID0gcmVzcG9uc2U7CiAgICAgICAgICAgICAgICB0aGlzLnJhdGluZ3MgPSB0aGlzLnNpbmdsZU1vdmllLnZvdGVfYXZlcmFnZTsKICAgICAgICAgICAgICAgIHRoaXMubW92aWVHZW5yZXMgPSB0aGlzLnNpbmdsZU1vdmllLmdlbnJlczsKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FKQVggUVVFUlkgRVJST1InLCBlcnJvcik7CiAgICAgICAgICAgIH0pOwogICAgfSwKCiAgICBjb21wdXRlZDogewogICAgICAgIGxvZ2dlZEluKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuaXNBdXRoZW50aWNhdGVkOwogICAgICAgIH0sCiAgICAgICAgZ290dGFXYXRjaExpc3QoKXsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmdvdHRhV2F0Y2hMaXN0OwogICAgICAgIH0sCiAgICAgICAgZ290dGFXYXRjaGVkKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5nb3R0YVdhdGNoTW92aWVzLnNvbWUoCiAgICAgICAgICAgICAgICBtb3ZpZSA9PiBtb3ZpZS5pZCA9PT0gdGhpcy5zaW5nbGVNb3ZpZS5pZAogICAgICAgICAgICApOwogICAgICAgIH0sCiAgICAgICAgd2F0Y2hlZCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMud2F0Y2hlZE1vdmllcy5zb21lKAogICAgICAgICAgICAgICAgbW92aWUgPT4gbW92aWUuaWQgPT09IHRoaXMuc2luZ2xlTW92aWUuaWQKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBiYWNrKCkgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgIH0sCgogICAgICAgIGFkZFRvR290dGFXYXRjaExpc3QobW92aWUpIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FkZFRvR290dGFXYXRjaCcsIG1vdmllKTsKICAgICAgICB9LAoKICAgICAgICByZW1vdmVHb3R0YVdhdGNoKCkgewogICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5nb3R0YVdhdGNoTW92aWVzLmZpbmQoCiAgICAgICAgICAgICAgICBtb3ZpZSA9PiBtb3ZpZS5pZCA9PT0gdGhpcy5zaW5nbGVNb3ZpZS5pZAogICAgICAgICAgICApOwoKICAgICAgICAgICAgdGhpcy5nb3R0YVdhdGNoTW92aWVzLnNwbGljZShyZXN1bHQsIDEpOwogICAgICAgIH0sCgogICAgICAgIGFkZFdhdGNoZWQoKSB7CiAgICAgICAgICAgIHRoaXMud2F0Y2hlZE1vdmllcy5wdXNoKHRoaXMuc2luZ2xlTW92aWUpOwogICAgICAgIH0sCgogICAgICAgIHJlbW92ZVdhdGNoZWQoKSB7CiAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLndhdGNoZWRNb3ZpZXMuZmluZCgKICAgICAgICAgICAgICAgIG1vdmllID0+IG1vdmllLmlkID09PSB0aGlzLnNpbmdsZU1vdmllLmlkCiAgICAgICAgICAgICk7CgogICAgICAgICAgICB0aGlzLndhdGNoZWRNb3ZpZXMuc3BsaWNlKHJlc3VsdCwgMSk7CiAgICAgICAgfSwKCiAgICAgICAgcG9zdGVySW1hZ2UoaXRlbSkgewogICAgICAgICAgICBsZXQgYmFzZUltZ1VybCA9ICdodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC8nOwogICAgICAgICAgICByZXR1cm4gYmFzZUltZ1VybC5jb25jYXQoJ3cxNTQnLCBpdGVtLnBvc3Rlcl9wYXRoKTsKICAgICAgICB9CiAgICB9LAoKICAgIHdhdGNoOiB7CiAgICAgICAgZ290dGFXYXRjaE1vdmllczogewogICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbihuZXdDb2xsZWN0aW9uKSB7CiAgICAgICAgICAgICAgICAvLyBzdG9yZSBpbiBsb2NhbCBzdG9yYWdlIGZvciBsYXRlcgogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oCiAgICAgICAgICAgICAgICAgICAgJ2dvdHRhV2F0Y2hNb3ZpZXMnLAogICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KG5ld0NvbGxlY3Rpb24pCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB3YXRjaGVkTW92aWVzOiB7CiAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKG5ld0NvbGxlY3Rpb24pIHsKICAgICAgICAgICAgICAgIC8vIHN0b3JlIGluIGxvY2FsIHN0b3JhZ2UgZm9yIGxhdGVyCiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgKICAgICAgICAgICAgICAgICAgICAnd2F0Y2hlZE1vdmllcycsCiAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkobmV3Q29sbGVjdGlvbikKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn07Cg=="},{"version":3,"sources":["Movie.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Movie.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <v-container v-if=\"loading\">\n        <div class=\"text-xs-center\">\n            <v-progress-circular\n                indeterminate\n                :size=\"150\"\n                :width=\"8\"\n                color=\"green\"\n            >\n            </v-progress-circular>\n        </div>\n    </v-container>\n\n    <v-container v-else>\n        <v-layout wrap>\n            <v-flex xs12 mr-1 ml-1>\n                <v-card>\n                    <v-img\n                        :src=\"posterImage(singleMovie)\"\n                        aspect-ratio=\"2\"\n                    ></v-img>\n                    <v-card-title primary-title>\n                        <div>\n                            <h2 class=\"headline mb-0\">\n                                {{ singleMovie.title }}\n                            </h2>\n                            <p>{{ singleMovie.release_date }}</p>\n                            <p>{{ singleMovie.overview }}</p>\n                            <h3>Runtime:</h3>\n                            {{ singleMovie.runtime }} minutes\n                            <h3>Genres:</h3>\n                            <ul\n                                v-for=\"(item, index) in movieGenres\"\n                                :key=\"index\"\n                            >\n                                <li>{{ item.name }}</li>\n                            </ul>\n                        </div>\n                    </v-card-title>\n                    <v-card-actions>\n                        <v-btn text color=\"green\" @click=\"back\">back</v-btn>\n                    </v-card-actions>\n                    <!--if the user logged in-->\n                    <div v-if=\"loggedIn\">\n                        <v-card-actions>\n                            <v-btn\n                                v-if=\"gottaWatched\"\n                                text\n                                color=\"green\"\n                                @click=\"removeGottaWatch\"\n                                >UnGottaWatch</v-btn\n                            >\n                            <v-btn\n                                v-else\n                                text\n                                color=\"green\"\n                                @click=\"addToGottaWatchList(movie)\"\n                                >GottaWatch</v-btn\n                            >\n                        </v-card-actions>\n                        <v-card-actions>\n                            <v-btn\n                                v-if=\"watched\"\n                                text\n                                color=\"green\"\n                                @click=\"removeWatched\"\n                                >UnWatched</v-btn\n                            >\n                            <v-btn v-else text color=\"green\" @click=\"addWatched\"\n                                >Watched</v-btn\n                            >\n                        </v-card-actions>\n                    </div>\n                    <!--if the user did not log in-->\n                    <div v-else>\n                        <v-card-actions>\n                            <v-btn text color=\"green\">\n                                <!-- TODO: get tooltips to work -->\n                                <v-tooltip\n                                    light\n                                    content=\"Login to add this movie to your gotta watch list\"\n                                >\n                                    GottaWatch\n                                </v-tooltip>\n                            </v-btn>\n                        </v-card-actions>\n                        <v-card-actions>\n                            <v-btn text color=\"green\">\n                                <v-tooltip\n                                    light\n                                    content=\"Login to add this movie to your watched list\"\n                                >\n                                    Watched\n                                </v-tooltip>\n                            </v-btn>\n                        </v-card-actions>\n                    </div>\n                </v-card>\n            </v-flex>\n        </v-layout>\n    </v-container>\n</template>\n\n<script>\nimport movieApi from '@/MovieApi';\n\nexport default {\n    props: ['id'],\n    data() {\n        return {\n            singleMovie: '',\n            movieGenres: [],\n            gottaWatchMovies: [],\n            watchedMovies: [],\n            dialog: false,\n            loading: true,\n            ratings: ''\n        };\n    },\n\n    mounted() {\n        movieApi\n            .fetchSingleMovie(this.id)\n            .then(response => {\n                this.singleMovie = response;\n                this.ratings = this.singleMovie.vote_average;\n                this.movieGenres = this.singleMovie.genres;\n                this.loading = false;\n            })\n            .catch(error => {\n                // eslint-disable-next-line no-console\n                console.error('AJAX QUERY ERROR', error);\n            });\n    },\n\n    computed: {\n        loggedIn() {\n            return this.$store.state.isAuthenticated;\n        },\n        gottaWatchList(){\n            return this.$store.state.gottaWatchList;\n        },\n        gottaWatched() {\n            return this.gottaWatchMovies.some(\n                movie => movie.id === this.singleMovie.id\n            );\n        },\n        watched() {\n            return this.watchedMovies.some(\n                movie => movie.id === this.singleMovie.id\n            );\n        }\n    },\n\n    methods: {\n        back() {\n            this.$router.push('/');\n        },\n\n        addToGottaWatchList(movie) {\n            this.$store.dispatch('addToGottaWatch', movie);\n        },\n\n        removeGottaWatch() {\n            let result = this.gottaWatchMovies.find(\n                movie => movie.id === this.singleMovie.id\n            );\n\n            this.gottaWatchMovies.splice(result, 1);\n        },\n\n        addWatched() {\n            this.watchedMovies.push(this.singleMovie);\n        },\n\n        removeWatched() {\n            let result = this.watchedMovies.find(\n                movie => movie.id === this.singleMovie.id\n            );\n\n            this.watchedMovies.splice(result, 1);\n        },\n\n        posterImage(item) {\n            let baseImgUrl = 'https://image.tmdb.org/t/p/';\n            return baseImgUrl.concat('w154', item.poster_path);\n        }\n    },\n\n    watch: {\n        gottaWatchMovies: {\n            handler: function(newCollection) {\n                // store in local storage for later\n                localStorage.setItem(\n                    'gottaWatchMovies',\n                    JSON.stringify(newCollection)\n                );\n            }\n        },\n        watchedMovies: {\n            handler: function(newCollection) {\n                // store in local storage for later\n                localStorage.setItem(\n                    'watchedMovies',\n                    JSON.stringify(newCollection)\n                );\n            }\n        }\n    }\n};\n</script>\n"]}]}