{"remainingRequest":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/src/components/Login.vue","mtime":1576447410948},{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdMb2dpbicsCgogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB2YWxpZDogZmFsc2UsCiAgICAgICAgICAgIGVtYWlsOiAnJywKICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgICBlbWFpbFJ1bGVzOiBbCiAgICAgICAgICAgICAgICB2ID0+ICEhdiB8fCAnRS1tYWlsIGlzIHJlcXVpcmVkJywKICAgICAgICAgICAgICAgIHYgPT4gLy4rQC4rLy50ZXN0KHYpIHx8ICdFLW1haWwgbXVzdCBiZSB2YWxpZCcKICAgICAgICAgICAgXSwKICAgICAgICAgICAgcGFzc3dvcmRSdWxlczogWwogICAgICAgICAgICAgICAgdiA9PiAhIXYgfHwgJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkJywKICAgICAgICAgICAgICAgIHYgPT4KICAgICAgICAgICAgICAgICAgICB2Lmxlbmd0aCA+PSA2IHx8CiAgICAgICAgICAgICAgICAgICAgJ1Bhc3N3b3JkIG11c3QgYmUgZ3JlYXRlciB0aGFuIDYgY2hhcmFjdGVycycKICAgICAgICAgICAgXQogICAgICAgIH07CiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBzdWJtaXQoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VzZXJMb2dpbicsIHsKICAgICAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLypzb2NpYWxMb2dpbigpewogICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5Hb29nbGVBdXRoUHJvdmlkZXIoKTsKCiAgICAgICAgICAgICAgICBmaXJlYmFzZQogICAgICAgICAgICAgICAgICAgIC5hdXRoKCkKICAgICAgICAgICAgICAgICAgICAuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKQogICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9ob21lJyk7CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydChlcnIubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwqLwogICAgfQoKICAgIC8vIGNyZWF0ZSBsZWFkZXJib2FyZCBlbnRyeSBmb3IgdXNlciBzaWduaW5nIGluIHdpdGggR29vZ2xlCiAgICAvLyBmb3IgdGhlIGZpcnN0IHRpbWUKICAgIC8qY3JlYXRlZDogZnVuY3Rpb24odXNlcklkKSB7CiAgICAgICAgICAgIGRiLnJ1blRyYW5zYWN0aW9uKGZ1bmN0aW9uKHRyYW5zYWN0aW9uKXsKICAgICAgICAgICAgICAgIGxldCBkb2NSZWYgPSBkYi5jb2xsZWN0aW9uKCdwb3Bjb3JuQm9hcmQnKS5kb2ModXNlcklkKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb24uZ2V0KGRvY1JlZikudGhlbihmdW5jdGlvbihkb2MpIHsKICAgICAgICAgICAgICAgICAgICBpZighZG9jLmV4aXN0cykgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgbGVhZGVyYm9hcmQgZW50cnkgd2l0aCBtYXRjaGluZyBpZAogICAgICAgICAgICAgICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCdwb3Bjb3JuQm9hcmQnKS5kb2MoZG9jUmVmLnVzZXIudWlkKS5zZXQoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IHRoaXMuZW1haWwuc3Vic3RyaW5nKDAsdGhpcy5lbWFpbC5pbmRleE9mKCdAJykpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV3IHVzZXIgZWFybnMgMTAgcG9pbnRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZTogMTAsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBib2FyZCBkb2N1bWVudCcgLGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiTGVhZGVyYm9hcmQgZW50cnkgY3JlYXRlZCEiKTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlRyYW5zYWN0aW9uIGZhaWxlZDogIiwgZXJyb3IpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LCovCn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <!--<div class=\"login\">\n    <img src=\"../../public/popcorn.png\" width=\"300px\">\n    <h3>Popcorn - The Movie Library</h3>\n    <input type=\"text\" v-model=\"email\" placeholder=\"Email address\" class=\"input\" required>\n    <br/>\n    <input type=\"password\" v-model=\"password\" placeholder=\"Password\" class=\"input\" required>\n    <br/>\n    <button @click=\"login\" class=\"button\">Login</button>\n    <p>\n      or Sign In with Google <br/>\n      <button @click=\"socialLogin\" class=\"social-button\">\n        <img alt=\"Google Logo\" src=\"../../public/google-logo.png\">\n      </button>\n    </p>\n    <p><router-link to=\"/signup\">\n      New Here? Create a new account.\n    </router-link></p>\n  </div>-->\n    <v-container fill-height>\n        <v-layout align-center justify-center>\n            <v-flex xs12 sm8 md4>\n                <v-card class=\"elevation-12\">\n                    <v-toolbar dark color=\"primary\">\n                        <v-toolbar-title>Login Form</v-toolbar-title>\n                    </v-toolbar>\n                    <v-card-text>\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-text-field\n                                name=\"email\"\n                                label=\"Email\"\n                                type=\"email\"\n                                v-model=\"email\"\n                                :rules=\"emailRules\"\n                                required\n                            >\n                            </v-text-field>\n                            <v-text-field\n                                name=\"password\"\n                                label=\"Password\"\n                                id=\"password\"\n                                type=\"password\"\n                                required\n                                v-model=\"password\"\n                                :rules=\"passwordRules\"\n                            >\n                            </v-text-field>\n                        </v-form>\n                    </v-card-text>\n                    <v-card-actions>\n                        <v-spacer></v-spacer>\n                        <v-btn\n                            color=\"primary\"\n                            :disabled=\"!valid\"\n                            @click=\"submit\"\n                            >Login</v-btn\n                        >\n                    </v-card-actions>\n                </v-card>\n            </v-flex>\n        </v-layout>\n    </v-container>\n</template>\n\n<script>\nexport default {\n    name: 'Login',\n\n    data() {\n        return {\n            valid: false,\n            email: '',\n            password: '',\n            emailRules: [\n                v => !!v || 'E-mail is required',\n                v => /.+@.+/.test(v) || 'E-mail must be valid'\n            ],\n            passwordRules: [\n                v => !!v || 'Password is required',\n                v =>\n                    v.length >= 6 ||\n                    'Password must be greater than 6 characters'\n            ]\n        };\n    },\n\n    methods: {\n        submit() {\n            if (this.$refs.form.validate()) {\n                this.$store.dispatch('userLogin', {\n                    email: this.email,\n                    password: this.password\n                });\n            }\n        }\n        /*socialLogin(){\n                const provider = new firebase.auth.GoogleAuthProvider();\n\n                firebase\n                    .auth()\n                    .signInWithPopup(provider)\n                    .then((result) => {\n                        this.$router.replace('/home');\n                    }).catch((err) => {\n                        alert(err.message);\n                });\n            },*/\n    }\n\n    // create leaderboard entry for user signing in with Google\n    // for the first time\n    /*created: function(userId) {\n            db.runTransaction(function(transaction){\n                let docRef = db.collection('popcornBoard').doc(userId);\n\n                return transaction.get(docRef).then(function(doc) {\n                    if(!doc.exists) {\n                        // create leaderboard entry with matching id\n                        db.collection('popcornBoard').doc(docRef.user.uid).set({\n                            displayName: this.email.substring(0,this.email.indexOf('@')),\n                            // new user earns 10 points\n                            score: 10,\n                        }).catch(function(error) {\n                            console.error('Error creating board document' ,error);\n                        });\n                    }\n                });\n            }).then(function() {\n                console.log(\"Leaderboard entry created!\");\n            }).catch(function(error) {\n                console.error(\"Transaction failed: \", error);\n            });\n        },*/\n};\n</script>\n\n<style scoped>\n.login {\n    margin-top: 40px;\n}\ninput {\n    align-self: center;\n    margin: 10px 0;\n    width: auto;\n    padding: 15px;\n}\nbutton {\n    margin: 10px 0;\n    background-color: #0476f2;\n}\na {\n    color: black;\n    text-decoration: underline;\n}\n\np {\n    margin-top: 40px;\n    font-size: 13px;\n}\nh1,\nh2 {\n    font-weight: normal;\n}\n\n.social-button {\n    width: 75px;\n    background: white;\n    padding: 10px;\n    border-radius: 100%;\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\n    outline: 0;\n    border: 0;\n}\n.social-button:active {\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\n}\n.social-button img {\n    width: 100%;\n}\n</style>\n"]}]}