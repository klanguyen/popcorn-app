{"remainingRequest":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/trinhnguyen/Desktop/popcorn-app-final/src/components/SignUp.vue?vue&type=style&index=0&id=d21a9130&scoped=true&lang=css&","dependencies":[{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/src/components/SignUp.vue","mtime":1576481598745},{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5zaWduLXVwIHsKICAgIG1hcmdpbi10b3A6IDQwcHg7Cn0KaW5wdXQgewogICAgYWxpZ24tc2VsZjogY2VudGVyOwogICAgbWFyZ2luOiAxMHB4IDA7CiAgICB3aWR0aDogYXV0bzsKICAgIHBhZGRpbmc6IDE1cHg7Cn0KYnV0dG9uIHsKICAgIG1hcmdpbjogMTBweCAwOwogICAgYmFja2dyb3VuZC1jb2xvcjogIzA0NzZmMjsKfQphIHsKICAgIGNvbG9yOiAjMmMzZTUwOwp9CnAgewogICAgbWFyZ2luLXRvcDogNDBweDsKICAgIGZvbnQtc2l6ZTogMTNweDsKfQpoMyB7CiAgICBmb250LXdlaWdodDogbm9ybWFsOwp9Cg=="},{"version":3,"sources":["SignUp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignUp.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <v-container fill-height>\n        <v-layout align-center justify-center>\n            <v-flex xs12 sm8 md4>\n                <v-card class=\"elevation-12\">\n                    <v-toolbar dark color=\"primary\">\n                        <v-toolbar-title>Create A New Account</v-toolbar-title>\n                    </v-toolbar>\n                    <v-card-text>\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-text-field\n                                prepend-icon=\"person\"\n                                name=\"email\"\n                                label=\"Email\"\n                                type=\"email\"\n                                v-model=\"email\"\n                                :rules=\"emailRules\"\n                                required\n                            >\n                            </v-text-field>\n                            <v-text-field\n                                prepend-icon=\"lock\"\n                                name=\"password\"\n                                label=\"Password\"\n                                id=\"password\"\n                                type=\"password\"\n                                required\n                                v-model=\"password\"\n                                :rules=\"passwordRules\"\n                            >\n                            </v-text-field>\n                        </v-form>\n                    </v-card-text>\n                    <v-card-actions>\n                        <v-spacer></v-spacer>\n                        <v-btn\n                            color=\"primary\"\n                            :disabled=\"!valid\"\n                            @click=\"submit(email, password)\"\n                            >Join</v-btn\n                        >\n                    </v-card-actions>\n                </v-card>\n            </v-flex>\n        </v-layout>\n    </v-container>\n</template>\n\n<script>\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { db } from '@/firebase';\n\nvar User = function() {\n    return {\n        userName: '',\n        email: '',\n        photoURL: null,\n        uid: '',\n        badges: [],\n        gottaWatchList: [],\n        watchedList: []\n    };\n};\n\nexport default {\n    name: 'SignUp',\n\n    data() {\n        return {\n            authUser: null,\n            user: null,\n            valid: false,\n            newUser: new User(),\n            email: '',\n            password: '',\n            emailRules: [\n                v => !!v || 'E-mail is required',\n                v => /.+@.+/.test(v) || 'E-mail must be valid'\n            ],\n            passwordRules: [\n                v => !!v || 'Password is required',\n                v =>\n                    v.length >= 6 ||\n                    'Password must be greater than 6 characters'\n            ]\n        };\n    },\n\n    methods: {\n        submit(email, password) {\n            if (this.$refs.form.validate()) {\n                firebase\n                    .auth()\n                    .createUserWithEmailAndPassword(email, password)\n                    .then(function(docRef) {\n                        // create user object with matching id\n                        // could also use email address (or anything)\n                        // but id is easiest for permissions\n                        db.collection('popcornUsers')\n                            .doc(docRef.user.uid)\n                            .set({\n                                userName: email.substring(0, email.indexOf('@')),\n                                email: email,\n                                photoURL: null,\n                                badges: [],\n                                gottaWatchList: [],\n                                watchedList: []\n                            })\n                            .catch(function(error) {\n                                // eslint-disable-next-line no-console\n                                console.error(\n                                    'Error creating user document',\n                                    error\n                                );\n\n                                // TODO: handle errors\n                            });\n\n                        // create leaderboard entry with matching id\n                        // could also use email address (or anything)\n                        // but id is easiest for permissions\n                        db.collection('popcornBoard')\n                            .doc(docRef.user.uid)\n                            .set({\n                                displayName: email.substring(0, email.indexOf('@')),\n                                points: 0\n                            })\n                            .catch(function(error) {\n                                // eslint-disable-next-line no-console\n                                console.error(\n                                    'Error creating board document',\n                                    error\n                                );\n\n                                // TODO: handle errors\n                            });\n                    })\n                    .catch(function(error) {\n                        // Handle Errors here.\n                        // eslint-disable-next-line no-console\n                        console.error('Create User Error', error);\n\n                        // TODO: let the user know there was an error\n                    });\n            }\n        },\n        /*\n        userName: '',\n        email: '',\n        photoURL: null,\n        uid: '',\n        points: 0,\n        badges: [],\n        gottaWatchList: [],\n        watchedList: []\n\n        addUser() {\n            var theUser = this.newUser;\n            theUser.userName = this.email.substring(0, this.email.indexOf('@'));\n            theUser.email = this.email;\n            theUser.photoURL = null;\n            theUser.uid = this.authUser;\n            // Users get 10 points for creating an account\n            theUser.points = this.points + 10;\n            theUser.badges = this.badges;\n            theUser.gottaWatchList = this.gottaWatchList;\n            theUser.watchedList = this.watchedList;\n\n            // add user to firebase\n            db.collection('popcornUsers')\n                .add(theUser)\n                .then(function(docRef) {\n                    // eslint-disable-next-line no-console\n                    console.log('Document written:', docRef);\n\n                    // clear user\n                    theUser = new User();\n                })\n                .catch(function(error) {\n                    // eslint-disable-next-line no-console\n                    console.error('Error adding document: ', error);\n                    // TODO: let the user know\n                });\n\n            // add user entry to leaderboard\n            /*db.collection('popcornBoard')\n                .add(theUser)\n                .then(function(docRef) {\n                    // eslint-disable-next-line no-console\n                    console.log(\"Document written:\", docRef);\n\n                    // clear user\n                    theUser = new User();\n                })\n                .catch(function(error) {\n                    // eslint-disable-next-line no-console\n                    console.error(\"Error adding document: \", error);\n                    // TODO: let the user know\n                });\n        }*/\n    },\n    computed: {\n        loggedIn() {\n            return this.authUser && this.authUser.uid;\n        }\n    }\n};\n</script>\n\n<style scoped>\n.sign-up {\n    margin-top: 40px;\n}\ninput {\n    align-self: center;\n    margin: 10px 0;\n    width: auto;\n    padding: 15px;\n}\nbutton {\n    margin: 10px 0;\n    background-color: #0476f2;\n}\na {\n    color: #2c3e50;\n}\np {\n    margin-top: 40px;\n    font-size: 13px;\n}\nh3 {\n    font-weight: normal;\n}\n</style>\n"]}]}