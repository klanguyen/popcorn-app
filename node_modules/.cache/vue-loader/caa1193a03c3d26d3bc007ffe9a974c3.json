{"remainingRequest":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/src/components/SignUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/src/components/SignUp.vue","mtime":1576536242481},{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZS9hcHAnOwppbXBvcnQgJ2ZpcmViYXNlL2F1dGgnOwppbXBvcnQgeyBkYiB9IGZyb20gJ0AvZmlyZWJhc2UnOwoKdmFyIFVzZXIgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgICAgdXNlck5hbWU6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBwaG90b1VSTDogbnVsbCwKICAgICAgICB1aWQ6ICcnLAogICAgICAgIGJhZGdlczogW10sCiAgICAgICAgZ290dGFXYXRjaExpc3Q6IFtdLAogICAgICAgIHdhdGNoZWRMaXN0OiBbXQogICAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdTaWduVXAnLAoKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYXV0aFVzZXI6IG51bGwsCiAgICAgICAgICAgIHVzZXI6IG51bGwsCiAgICAgICAgICAgIHZhbGlkOiBmYWxzZSwKICAgICAgICAgICAgbmV3VXNlcjogbmV3IFVzZXIoKSwKICAgICAgICAgICAgZW1haWw6ICcnLAogICAgICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgICAgIGVtYWlsUnVsZXM6IFsKICAgICAgICAgICAgICAgIHYgPT4gISF2IHx8ICdFLW1haWwgaXMgcmVxdWlyZWQnLAogICAgICAgICAgICAgICAgdiA9PiAvLitALisvLnRlc3QodikgfHwgJ0UtbWFpbCBtdXN0IGJlIHZhbGlkJwogICAgICAgICAgICBdLAogICAgICAgICAgICBwYXNzd29yZFJ1bGVzOiBbCiAgICAgICAgICAgICAgICB2ID0+ICEhdiB8fCAnUGFzc3dvcmQgaXMgcmVxdWlyZWQnLAogICAgICAgICAgICAgICAgdiA9PgogICAgICAgICAgICAgICAgICAgIHYubGVuZ3RoID49IDYgfHwKICAgICAgICAgICAgICAgICAgICAnUGFzc3dvcmQgbXVzdCBiZSBncmVhdGVyIHRoYW4gNiBjaGFyYWN0ZXJzJwogICAgICAgICAgICBdCiAgICAgICAgfTsKICAgIH0sCgogICAgbWV0aG9kczogewogICAgICAgIHN1Ym1pdChlbWFpbCwgcGFzc3dvcmQpIHsKICAgICAgICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgICAgICAgICBmaXJlYmFzZQogICAgICAgICAgICAgICAgICAgIC5hdXRoKCkKICAgICAgICAgICAgICAgICAgICAuY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKGVtYWlsLCBwYXNzd29yZCkKICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkb2NSZWYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIHVzZXIgb2JqZWN0IHdpdGggbWF0Y2hpbmcgaWQKICAgICAgICAgICAgICAgICAgICAgICAgLy8gY291bGQgYWxzbyB1c2UgZW1haWwgYWRkcmVzcyAob3IgYW55dGhpbmcpCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBpZCBpcyBlYXNpZXN0IGZvciBwZXJtaXNzaW9ucwogICAgICAgICAgICAgICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCdwb3Bjb3JuVXNlcnMnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRvYyhkb2NSZWYudXNlci51aWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZTogZW1haWwuc3Vic3RyaW5nKDAsIGVtYWlsLmluZGV4T2YoJ0AnKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvVVJMOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhZGdlczogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290dGFXYXRjaExpc3Q6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoZWRMaXN0OiBbXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Vycm9yIGNyZWF0aW5nIHVzZXIgZG9jdW1lbnQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGhhbmRsZSBlcnJvcnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIGxlYWRlcmJvYXJkIGVudHJ5IHdpdGggbWF0Y2hpbmcgaWQKICAgICAgICAgICAgICAgICAgICAgICAgLy8gY291bGQgYWxzbyB1c2UgZW1haWwgYWRkcmVzcyAob3IgYW55dGhpbmcpCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBpZCBpcyBlYXNpZXN0IGZvciBwZXJtaXNzaW9ucwogICAgICAgICAgICAgICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCdwb3Bjb3JuQm9hcmQnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRvYyhkb2NSZWYudXNlci51aWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogZW1haWwuc3Vic3RyaW5nKDAsIGVtYWlsLmluZGV4T2YoJ0AnKSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlciBlYXJucyAxMHB0cyBmb3IgY3JlYXRpbmcgbmV3IGFjY291bnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludHM6IDEwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRXJyb3IgY3JlYXRpbmcgYm9hcmQgZG9jdW1lbnQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGhhbmRsZSBlcnJvcnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgRXJyb3JzIGhlcmUuCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NyZWF0ZSBVc2VyIEVycm9yJywgZXJyb3IpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogbGV0IHRoZSB1c2VyIGtub3cgdGhlcmUgd2FzIGFuIGVycm9yCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBsb2dnZWRJbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0aFVzZXIgJiYgdGhpcy5hdXRoVXNlci51aWQ7CiAgICAgICAgfQogICAgfQp9Owo="},{"version":3,"sources":["SignUp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignUp.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <v-container fill-height>\n        <v-layout align-center justify-center>\n            <v-flex xs12 sm8 md4>\n                <v-card class=\"elevation-12\">\n                    <v-toolbar dark color=\"primary\">\n                        <v-toolbar-title>Create A New Account</v-toolbar-title>\n                    </v-toolbar>\n                    <v-card-text>\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-text-field\n                                name=\"email\"\n                                label=\"Email\"\n                                type=\"email\"\n                                v-model=\"email\"\n                                :rules=\"emailRules\"\n                                required\n                            >\n                            </v-text-field>\n                            <v-text-field\n                                name=\"password\"\n                                label=\"Password\"\n                                id=\"password\"\n                                type=\"password\"\n                                required\n                                v-model=\"password\"\n                                :rules=\"passwordRules\"\n                            >\n                            </v-text-field>\n                        </v-form>\n                    </v-card-text>\n                    <v-card-actions>\n                        <v-spacer></v-spacer>\n                        <v-btn\n                            color=\"primary\"\n                            :disabled=\"!valid\"\n                            @click=\"submit(email, password)\"\n                            >Join</v-btn\n                        >\n                    </v-card-actions>\n                </v-card>\n            </v-flex>\n        </v-layout>\n    </v-container>\n</template>\n\n<script>\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { db } from '@/firebase';\n\nvar User = function() {\n    return {\n        userName: '',\n        email: '',\n        photoURL: null,\n        uid: '',\n        badges: [],\n        gottaWatchList: [],\n        watchedList: []\n    };\n};\n\nexport default {\n    name: 'SignUp',\n\n    data() {\n        return {\n            authUser: null,\n            user: null,\n            valid: false,\n            newUser: new User(),\n            email: '',\n            password: '',\n            emailRules: [\n                v => !!v || 'E-mail is required',\n                v => /.+@.+/.test(v) || 'E-mail must be valid'\n            ],\n            passwordRules: [\n                v => !!v || 'Password is required',\n                v =>\n                    v.length >= 6 ||\n                    'Password must be greater than 6 characters'\n            ]\n        };\n    },\n\n    methods: {\n        submit(email, password) {\n            if (this.$refs.form.validate()) {\n                firebase\n                    .auth()\n                    .createUserWithEmailAndPassword(email, password)\n                    .then(function(docRef) {\n                        // create user object with matching id\n                        // could also use email address (or anything)\n                        // but id is easiest for permissions\n                        db.collection('popcornUsers')\n                            .doc(docRef.user.uid)\n                            .set({\n                                userName: email.substring(0, email.indexOf('@')),\n                                email: email,\n                                photoURL: null,\n                                badges: [],\n                                gottaWatchList: [],\n                                watchedList: []\n                            })\n                            .catch(function(error) {\n                                // eslint-disable-next-line no-console\n                                console.error(\n                                    'Error creating user document',\n                                    error\n                                );\n\n                                // TODO: handle errors\n                            });\n\n                        // create leaderboard entry with matching id\n                        // could also use email address (or anything)\n                        // but id is easiest for permissions\n                        db.collection('popcornBoard')\n                            .doc(docRef.user.uid)\n                            .set({\n                                displayName: email.substring(0, email.indexOf('@')),\n                                // user earns 10pts for creating new account\n                                points: 10\n                            })\n                            .catch(function(error) {\n                                // eslint-disable-next-line no-console\n                                console.error(\n                                    'Error creating board document',\n                                    error\n                                );\n\n                                // TODO: handle errors\n                            });\n\n                    })\n                    .catch(function(error) {\n                        // Handle Errors here.\n                        // eslint-disable-next-line no-console\n                        console.error('Create User Error', error);\n\n                        // TODO: let the user know there was an error\n                    });\n                this.$router.push('/login');\n            }\n        }\n    },\n    computed: {\n        loggedIn() {\n            return this.authUser && this.authUser.uid;\n        }\n    }\n};\n</script>\n\n<style scoped>\n.sign-up {\n    margin-top: 40px;\n}\ninput {\n    align-self: center;\n    margin: 10px 0;\n    width: auto;\n    padding: 15px;\n}\nbutton {\n    margin: 10px 0;\n    background-color: #0476f2;\n}\na {\n    color: #2c3e50;\n}\np {\n    margin-top: 40px;\n    font-size: 13px;\n}\nh3 {\n    font-weight: normal;\n}\n</style>\n"]}]}