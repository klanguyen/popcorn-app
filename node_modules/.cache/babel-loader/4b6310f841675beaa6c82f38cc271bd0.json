{"remainingRequest":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/babel-loader/lib/index.js!/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/src/components/SignUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/src/components/SignUp.vue","mtime":1576536242481},{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-project/popcorn-app-final/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UvYXBwJzsKaW1wb3J0ICdmaXJlYmFzZS9hdXRoJzsKaW1wb3J0IHsgZGIgfSBmcm9tICdAL2ZpcmViYXNlJzsKCnZhciBVc2VyID0gZnVuY3Rpb24gVXNlcigpIHsKICByZXR1cm4gewogICAgdXNlck5hbWU6ICcnLAogICAgZW1haWw6ICcnLAogICAgcGhvdG9VUkw6IG51bGwsCiAgICB1aWQ6ICcnLAogICAgYmFkZ2VzOiBbXSwKICAgIGdvdHRhV2F0Y2hMaXN0OiBbXSwKICAgIHdhdGNoZWRMaXN0OiBbXQogIH07Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NpZ25VcCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGF1dGhVc2VyOiBudWxsLAogICAgICB1c2VyOiBudWxsLAogICAgICB2YWxpZDogZmFsc2UsCiAgICAgIG5ld1VzZXI6IG5ldyBVc2VyKCksCiAgICAgIGVtYWlsOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBlbWFpbFJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICdFLW1haWwgaXMgcmVxdWlyZWQnOwogICAgICB9LCBmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAvLitALisvLnRlc3QodikgfHwgJ0UtbWFpbCBtdXN0IGJlIHZhbGlkJzsKICAgICAgfV0sCiAgICAgIHBhc3N3b3JkUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkJzsKICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdi5sZW5ndGggPj0gNiB8fCAnUGFzc3dvcmQgbXVzdCBiZSBncmVhdGVyIHRoYW4gNiBjaGFyYWN0ZXJzJzsKICAgICAgfV0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdChlbWFpbCwgcGFzc3dvcmQpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgZmlyZWJhc2UuYXV0aCgpLmNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKGRvY1JlZikgewogICAgICAgICAgLy8gY3JlYXRlIHVzZXIgb2JqZWN0IHdpdGggbWF0Y2hpbmcgaWQKICAgICAgICAgIC8vIGNvdWxkIGFsc28gdXNlIGVtYWlsIGFkZHJlc3MgKG9yIGFueXRoaW5nKQogICAgICAgICAgLy8gYnV0IGlkIGlzIGVhc2llc3QgZm9yIHBlcm1pc3Npb25zCiAgICAgICAgICBkYi5jb2xsZWN0aW9uKCdwb3Bjb3JuVXNlcnMnKS5kb2MoZG9jUmVmLnVzZXIudWlkKS5zZXQoewogICAgICAgICAgICB1c2VyTmFtZTogZW1haWwuc3Vic3RyaW5nKDAsIGVtYWlsLmluZGV4T2YoJ0AnKSksCiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgICAgICAgcGhvdG9VUkw6IG51bGwsCiAgICAgICAgICAgIGJhZGdlczogW10sCiAgICAgICAgICAgIGdvdHRhV2F0Y2hMaXN0OiBbXSwKICAgICAgICAgICAgd2F0Y2hlZExpc3Q6IFtdCiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgdXNlciBkb2N1bWVudCcsIGVycm9yKTsgLy8gVE9ETzogaGFuZGxlIGVycm9ycwogICAgICAgICAgfSk7IC8vIGNyZWF0ZSBsZWFkZXJib2FyZCBlbnRyeSB3aXRoIG1hdGNoaW5nIGlkCiAgICAgICAgICAvLyBjb3VsZCBhbHNvIHVzZSBlbWFpbCBhZGRyZXNzIChvciBhbnl0aGluZykKICAgICAgICAgIC8vIGJ1dCBpZCBpcyBlYXNpZXN0IGZvciBwZXJtaXNzaW9ucwoKICAgICAgICAgIGRiLmNvbGxlY3Rpb24oJ3BvcGNvcm5Cb2FyZCcpLmRvYyhkb2NSZWYudXNlci51aWQpLnNldCh7CiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBlbWFpbC5zdWJzdHJpbmcoMCwgZW1haWwuaW5kZXhPZignQCcpKSwKICAgICAgICAgICAgLy8gdXNlciBlYXJucyAxMHB0cyBmb3IgY3JlYXRpbmcgbmV3IGFjY291bnQKICAgICAgICAgICAgcG9pbnRzOiAxMAogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGJvYXJkIGRvY3VtZW50JywgZXJyb3IpOyAvLyBUT0RPOiBoYW5kbGUgZXJyb3JzCiAgICAgICAgICB9KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIC8vIEhhbmRsZSBFcnJvcnMgaGVyZS4KICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICBjb25zb2xlLmVycm9yKCdDcmVhdGUgVXNlciBFcnJvcicsIGVycm9yKTsgLy8gVE9ETzogbGV0IHRoZSB1c2VyIGtub3cgdGhlcmUgd2FzIGFuIGVycm9yCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbG9nZ2VkSW46IGZ1bmN0aW9uIGxvZ2dlZEluKCkgewogICAgICByZXR1cm4gdGhpcy5hdXRoVXNlciAmJiB0aGlzLmF1dGhVc2VyLnVpZDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["SignUp.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-container fill-height>\n        <v-layout align-center justify-center>\n            <v-flex xs12 sm8 md4>\n                <v-card class=\"elevation-12\">\n                    <v-toolbar dark color=\"primary\">\n                        <v-toolbar-title>Create A New Account</v-toolbar-title>\n                    </v-toolbar>\n                    <v-card-text>\n                        <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                            <v-text-field\n                                name=\"email\"\n                                label=\"Email\"\n                                type=\"email\"\n                                v-model=\"email\"\n                                :rules=\"emailRules\"\n                                required\n                            >\n                            </v-text-field>\n                            <v-text-field\n                                name=\"password\"\n                                label=\"Password\"\n                                id=\"password\"\n                                type=\"password\"\n                                required\n                                v-model=\"password\"\n                                :rules=\"passwordRules\"\n                            >\n                            </v-text-field>\n                        </v-form>\n                    </v-card-text>\n                    <v-card-actions>\n                        <v-spacer></v-spacer>\n                        <v-btn\n                            color=\"primary\"\n                            :disabled=\"!valid\"\n                            @click=\"submit(email, password)\"\n                            >Join</v-btn\n                        >\n                    </v-card-actions>\n                </v-card>\n            </v-flex>\n        </v-layout>\n    </v-container>\n</template>\n\n<script>\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { db } from '@/firebase';\n\nvar User = function() {\n    return {\n        userName: '',\n        email: '',\n        photoURL: null,\n        uid: '',\n        badges: [],\n        gottaWatchList: [],\n        watchedList: []\n    };\n};\n\nexport default {\n    name: 'SignUp',\n\n    data() {\n        return {\n            authUser: null,\n            user: null,\n            valid: false,\n            newUser: new User(),\n            email: '',\n            password: '',\n            emailRules: [\n                v => !!v || 'E-mail is required',\n                v => /.+@.+/.test(v) || 'E-mail must be valid'\n            ],\n            passwordRules: [\n                v => !!v || 'Password is required',\n                v =>\n                    v.length >= 6 ||\n                    'Password must be greater than 6 characters'\n            ]\n        };\n    },\n\n    methods: {\n        submit(email, password) {\n            if (this.$refs.form.validate()) {\n                firebase\n                    .auth()\n                    .createUserWithEmailAndPassword(email, password)\n                    .then(function(docRef) {\n                        // create user object with matching id\n                        // could also use email address (or anything)\n                        // but id is easiest for permissions\n                        db.collection('popcornUsers')\n                            .doc(docRef.user.uid)\n                            .set({\n                                userName: email.substring(0, email.indexOf('@')),\n                                email: email,\n                                photoURL: null,\n                                badges: [],\n                                gottaWatchList: [],\n                                watchedList: []\n                            })\n                            .catch(function(error) {\n                                // eslint-disable-next-line no-console\n                                console.error(\n                                    'Error creating user document',\n                                    error\n                                );\n\n                                // TODO: handle errors\n                            });\n\n                        // create leaderboard entry with matching id\n                        // could also use email address (or anything)\n                        // but id is easiest for permissions\n                        db.collection('popcornBoard')\n                            .doc(docRef.user.uid)\n                            .set({\n                                displayName: email.substring(0, email.indexOf('@')),\n                                // user earns 10pts for creating new account\n                                points: 10\n                            })\n                            .catch(function(error) {\n                                // eslint-disable-next-line no-console\n                                console.error(\n                                    'Error creating board document',\n                                    error\n                                );\n\n                                // TODO: handle errors\n                            });\n\n                    })\n                    .catch(function(error) {\n                        // Handle Errors here.\n                        // eslint-disable-next-line no-console\n                        console.error('Create User Error', error);\n\n                        // TODO: let the user know there was an error\n                    });\n                this.$router.push('/login');\n            }\n        }\n    },\n    computed: {\n        loggedIn() {\n            return this.authUser && this.authUser.uid;\n        }\n    }\n};\n</script>\n\n<style scoped>\n.sign-up {\n    margin-top: 40px;\n}\ninput {\n    align-self: center;\n    margin: 10px 0;\n    width: auto;\n    padding: 15px;\n}\nbutton {\n    margin: 10px 0;\n    background-color: #0476f2;\n}\na {\n    color: #2c3e50;\n}\np {\n    margin-top: 40px;\n    font-size: 13px;\n}\nh3 {\n    font-weight: normal;\n}\n</style>\n"],"sourceRoot":"src/components"}]}