{"remainingRequest":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/babel-loader/lib/index.js!/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/trinhnguyen/Desktop/popcorn-app-final/src/components/Movie.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/src/components/Movie.vue","mtime":1576457110315},{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/trinhnguyen/Desktop/popcorn-app-final/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBtb3ZpZUFwaSBmcm9tICdAL01vdmllQXBpJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbJ2lkJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNpbmdsZU1vdmllOiAnJywKICAgICAgbW92aWVHZW5yZXM6IFtdLAogICAgICBnb3R0YVdhdGNoTW92aWVzOiBbXSwKICAgICAgd2F0Y2hlZE1vdmllczogW10sCiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIHJhdGluZ3M6ICcnCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgbW92aWVBcGkuZmV0Y2hTaW5nbGVNb3ZpZSh0aGlzLmlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5zaW5nbGVNb3ZpZSA9IHJlc3BvbnNlOwogICAgICBfdGhpcy5yYXRpbmdzID0gX3RoaXMuc2luZ2xlTW92aWUudm90ZV9hdmVyYWdlOwogICAgICBfdGhpcy5tb3ZpZUdlbnJlcyA9IF90aGlzLnNpbmdsZU1vdmllLmdlbnJlczsKICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FKQVggUVVFUlkgRVJST1InLCBlcnJvcik7CiAgICB9KTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBsb2dnZWRJbjogZnVuY3Rpb24gbG9nZ2VkSW4oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5pc0F1dGhlbnRpY2F0ZWQ7CiAgICB9LAogICAgZ290dGFXYXRjaExpc3Q6IGZ1bmN0aW9uIGdvdHRhV2F0Y2hMaXN0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZ290dGFXYXRjaExpc3Q7CiAgICB9LAogICAgZ290dGFXYXRjaGVkOiBmdW5jdGlvbiBnb3R0YVdhdGNoZWQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMuZ290dGFXYXRjaE1vdmllcy5zb21lKGZ1bmN0aW9uIChtb3ZpZSkgewogICAgICAgIHJldHVybiBtb3ZpZS5pZCA9PT0gX3RoaXMyLnNpbmdsZU1vdmllLmlkOwogICAgICB9KTsKICAgIH0sCiAgICB3YXRjaGVkOiBmdW5jdGlvbiB3YXRjaGVkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLndhdGNoZWRNb3ZpZXMuc29tZShmdW5jdGlvbiAobW92aWUpIHsKICAgICAgICByZXR1cm4gbW92aWUuaWQgPT09IF90aGlzMy5zaW5nbGVNb3ZpZS5pZDsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBiYWNrOiBmdW5jdGlvbiBiYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgfSwKICAgIGFkZFRvR290dGFXYXRjaExpc3Q6IGZ1bmN0aW9uIGFkZFRvR290dGFXYXRjaExpc3QobW92aWUpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FkZFRvR290dGFXYXRjaCcsIG1vdmllKTsKICAgIH0sCiAgICByZW1vdmVHb3R0YVdhdGNoOiBmdW5jdGlvbiByZW1vdmVHb3R0YVdhdGNoKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciByZXN1bHQgPSB0aGlzLmdvdHRhV2F0Y2hNb3ZpZXMuZmluZChmdW5jdGlvbiAobW92aWUpIHsKICAgICAgICByZXR1cm4gbW92aWUuaWQgPT09IF90aGlzNC5zaW5nbGVNb3ZpZS5pZDsKICAgICAgfSk7CiAgICAgIHRoaXMuZ290dGFXYXRjaE1vdmllcy5zcGxpY2UocmVzdWx0LCAxKTsKICAgIH0sCiAgICBhZGRXYXRjaGVkOiBmdW5jdGlvbiBhZGRXYXRjaGVkKCkgewogICAgICB0aGlzLndhdGNoZWRNb3ZpZXMucHVzaCh0aGlzLnNpbmdsZU1vdmllKTsKICAgIH0sCiAgICByZW1vdmVXYXRjaGVkOiBmdW5jdGlvbiByZW1vdmVXYXRjaGVkKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciByZXN1bHQgPSB0aGlzLndhdGNoZWRNb3ZpZXMuZmluZChmdW5jdGlvbiAobW92aWUpIHsKICAgICAgICByZXR1cm4gbW92aWUuaWQgPT09IF90aGlzNS5zaW5nbGVNb3ZpZS5pZDsKICAgICAgfSk7CiAgICAgIHRoaXMud2F0Y2hlZE1vdmllcy5zcGxpY2UocmVzdWx0LCAxKTsKICAgIH0sCiAgICBwb3N0ZXJJbWFnZTogZnVuY3Rpb24gcG9zdGVySW1hZ2UoaXRlbSkgewogICAgICB2YXIgYmFzZUltZ1VybCA9ICdodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC8nOwogICAgICByZXR1cm4gYmFzZUltZ1VybC5jb25jYXQoJ3cxNTQnLCBpdGVtLnBvc3Rlcl9wYXRoKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBnb3R0YVdhdGNoTW92aWVzOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3Q29sbGVjdGlvbikgewogICAgICAgIC8vIHN0b3JlIGluIGxvY2FsIHN0b3JhZ2UgZm9yIGxhdGVyCiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dvdHRhV2F0Y2hNb3ZpZXMnLCBKU09OLnN0cmluZ2lmeShuZXdDb2xsZWN0aW9uKSk7CiAgICAgIH0KICAgIH0sCiAgICB3YXRjaGVkTW92aWVzOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3Q29sbGVjdGlvbikgewogICAgICAgIC8vIHN0b3JlIGluIGxvY2FsIHN0b3JhZ2UgZm9yIGxhdGVyCiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3dhdGNoZWRNb3ZpZXMnLCBKU09OLnN0cmluZ2lmeShuZXdDb2xsZWN0aW9uKSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["Movie.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-container v-if=\"loading\">\n        <div class=\"text-xs-center\">\n            <v-progress-circular\n                indeterminate\n                :size=\"150\"\n                :width=\"8\"\n                color=\"green\"\n            >\n            </v-progress-circular>\n        </div>\n    </v-container>\n\n    <v-container v-else>\n        <v-layout wrap>\n            <v-flex xs12 mr-1 ml-1>\n                <v-card>\n                    <v-img\n                        :src=\"posterImage(singleMovie)\"\n                        aspect-ratio=\"2\"\n                    ></v-img>\n                    <v-card-title primary-title>\n                        <div>\n                            <h2 class=\"headline mb-0\">\n                                {{ singleMovie.title }}\n                            </h2>\n                            <p>{{ singleMovie.release_date }}</p>\n                            <p>{{ singleMovie.overview }}</p>\n                            <h3>Runtime:</h3>\n                            {{ singleMovie.runtime }} minutes\n                            <h3>Genres:</h3>\n                            <ul\n                                v-for=\"(item, index) in movieGenres\"\n                                :key=\"index\"\n                            >\n                                <li>{{ item.name }}</li>\n                            </ul>\n                        </div>\n                    </v-card-title>\n                    <v-card-actions>\n                        <v-btn text color=\"green\" @click=\"back\">back</v-btn>\n                    </v-card-actions>\n                    <!--if the user logged in-->\n                    <div v-if=\"loggedIn\">\n                        <v-card-actions>\n                            <v-btn\n                                v-if=\"gottaWatched\"\n                                text\n                                color=\"green\"\n                                @click=\"removeGottaWatch\"\n                                >UnGottaWatch</v-btn\n                            >\n                            <v-btn\n                                v-else\n                                text\n                                color=\"green\"\n                                @click=\"addToGottaWatchList(movie)\"\n                                >GottaWatch</v-btn\n                            >\n                        </v-card-actions>\n                        <v-card-actions>\n                            <v-btn\n                                v-if=\"watched\"\n                                text\n                                color=\"green\"\n                                @click=\"removeWatched\"\n                                >UnWatched</v-btn\n                            >\n                            <v-btn v-else text color=\"green\" @click=\"addWatched\"\n                                >Watched</v-btn\n                            >\n                        </v-card-actions>\n                    </div>\n                    <!--if the user did not log in-->\n                    <div v-else>\n                        <v-card-actions>\n                            <v-btn text color=\"green\">\n                                <!-- TODO: get tooltips to work -->\n                                <v-tooltip\n                                    light\n                                    content=\"Login to add this movie to your gotta watch list\"\n                                >\n                                    GottaWatch\n                                </v-tooltip>\n                            </v-btn>\n                        </v-card-actions>\n                        <v-card-actions>\n                            <v-btn text color=\"green\">\n                                <v-tooltip\n                                    light\n                                    content=\"Login to add this movie to your watched list\"\n                                >\n                                    Watched\n                                </v-tooltip>\n                            </v-btn>\n                        </v-card-actions>\n                    </div>\n                </v-card>\n            </v-flex>\n        </v-layout>\n    </v-container>\n</template>\n\n<script>\nimport movieApi from '@/MovieApi';\n\nexport default {\n    props: ['id'],\n    data() {\n        return {\n            singleMovie: '',\n            movieGenres: [],\n            gottaWatchMovies: [],\n            watchedMovies: [],\n            dialog: false,\n            loading: true,\n            ratings: ''\n        };\n    },\n\n    mounted() {\n        movieApi\n            .fetchSingleMovie(this.id)\n            .then(response => {\n                this.singleMovie = response;\n                this.ratings = this.singleMovie.vote_average;\n                this.movieGenres = this.singleMovie.genres;\n                this.loading = false;\n            })\n            .catch(error => {\n                // eslint-disable-next-line no-console\n                console.error('AJAX QUERY ERROR', error);\n            });\n    },\n\n    computed: {\n        loggedIn() {\n            return this.$store.state.isAuthenticated;\n        },\n        gottaWatchList(){\n            return this.$store.state.gottaWatchList;\n        },\n        gottaWatched() {\n            return this.gottaWatchMovies.some(\n                movie => movie.id === this.singleMovie.id\n            );\n        },\n        watched() {\n            return this.watchedMovies.some(\n                movie => movie.id === this.singleMovie.id\n            );\n        }\n    },\n\n    methods: {\n        back() {\n            this.$router.push('/');\n        },\n\n        addToGottaWatchList(movie) {\n            this.$store.dispatch('addToGottaWatch', movie);\n        },\n\n        removeGottaWatch() {\n            let result = this.gottaWatchMovies.find(\n                movie => movie.id === this.singleMovie.id\n            );\n\n            this.gottaWatchMovies.splice(result, 1);\n        },\n\n        addWatched() {\n            this.watchedMovies.push(this.singleMovie);\n        },\n\n        removeWatched() {\n            let result = this.watchedMovies.find(\n                movie => movie.id === this.singleMovie.id\n            );\n\n            this.watchedMovies.splice(result, 1);\n        },\n\n        posterImage(item) {\n            let baseImgUrl = 'https://image.tmdb.org/t/p/';\n            return baseImgUrl.concat('w154', item.poster_path);\n        }\n    },\n\n    watch: {\n        gottaWatchMovies: {\n            handler: function(newCollection) {\n                // store in local storage for later\n                localStorage.setItem(\n                    'gottaWatchMovies',\n                    JSON.stringify(newCollection)\n                );\n            }\n        },\n        watchedMovies: {\n            handler: function(newCollection) {\n                // store in local storage for later\n                localStorage.setItem(\n                    'watchedMovies',\n                    JSON.stringify(newCollection)\n                );\n            }\n        }\n    }\n};\n</script>\n"],"sourceRoot":"src/components"}]}